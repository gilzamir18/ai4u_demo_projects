[gd_scene load_steps=9 format=3 uid="uid://bnr15cl4joj8d"]

[ext_resource type="PackedScene" uid="uid://dx578eco2e1xr" path="res://prefabs/floor.tscn" id="1_b2gkn"]
[ext_resource type="Script" path="res://addons/ai4u/dotnet/ControlRequestor.cs" id="2_kt00k"]
[ext_resource type="PackedScene" uid="uid://bmfu5jsag6ccl" path="res://player/player.tscn" id="2_rln4e"]
[ext_resource type="Script" path="res://addons/ai4u/dotnet/RL/agents/BasicAgent.cs" id="3_yi2u1"]
[ext_resource type="Script" path="res://addons/ai4u/dotnet/RL/actuators/CBMoveActuator.cs" id="4_rki3o"]
[ext_resource type="Script" path="res://addons/ai4u/dotnet/RL/controllers/WASDPhysicsMoveController.cs" id="6_bewwt"]
[ext_resource type="Script" path="res://addons/ai4u/dotnet/RL/events/CollisionWithRewardFunc.cs" id="7_xsn0l"]
[ext_resource type="PackedScene" uid="uid://c2yre7l2ks3fi" path="res://prefabs/Block.tscn" id="8_kh1t1"]

[node name="TestPlayer" type="Node3D"]

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.708438, 0.705773, 0, -0.705773, 0.708438, 0, 4.50605, 0)

[node name="Floor" parent="." instance=ExtResource("1_b2gkn")]

[node name="Requestor" type="Node" parent="." node_paths=PackedStringArray("agentsList")]
script = ExtResource("2_kt00k")
stopOnQuit = true
agentsList = [NodePath("../Player/Agent")]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 0.874137, 0.48568, 0, -0.48568, 0.874137, 0, 4.26815, 4.97835)

[node name="Player" parent="." instance=ExtResource("2_rln4e")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -1, 1, -1.13144)

[node name="Agent" type="Node" parent="Player"]
script = ExtResource("3_yi2u1")
avatarPath = NodePath("..")
doneAtNegativeReward = false
MaxStepsPerEpisode = 1000

[node name="Movement" type="Node" parent="Player/Agent"]
script = ExtResource("4_rki3o")
moveAmount = 3.0
turnAmount = 3.0
jumpPower = 10.0
actionName = "move"

[node name="MoveController" type="Node" parent="Player/Agent"]
script = ExtResource("6_bewwt")
speed = 1.0

[node name="CollisionWithBoxReward" type="Node" parent="Player/Agent" groups=["block"]]
script = ExtResource("7_xsn0l")
reward = 1.0
group = "block"

[node name="Block" parent="." instance=ExtResource("8_kh1t1")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 3.85696, 0.64758, 1.65524)
